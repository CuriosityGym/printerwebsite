{% extends "Layout.html" %}
{% load static %}

{% block Script %}

<script>

  $(document).ready(function() {

    let lenth = $('.current').length;

    $(".current").click(function() {
      $(this).slideUp(1000);
      //$(this).parent().slideUp(1000);
      //$(this).parent().parent().slideUp(1000);
      //$(this).parent().parent().parent().slideUp(1000);

      console.log("In");
      console.log(this);

      length = length - 1;

      if(length <= 1) {
        //$('#attention').parent().parent().parent().delay(1100).slideUp(1000);
        $('#attention').slideUp(1000);

      }
    });

    //$(".current.top.heading").delay(1000).slideUp(1000).delay(1000).show(1000);
    //console.log("Out");
  });

</script>

{% endblock %}

  {% block title %}InnovationHub  |  Printer({{name}}){% endblock %}

  {% block heading %}Printer: <em>{{name}}</em>{% endblock %}

  {% block content %}
  <div class="container_12">
      {% if current %}
      {% for print in current %}
      <div class="grid_12 header">
        <div class="current">
        <!--<h1 class="current top heading" style="border: 2px solid #144D53;">Currently Printing : <br><em>{{print}}</em></h1>-->
        <table class="Data">
          <tbody>
            <tr>
              <td style="border-radius:6px; font-size:30px">Currently Printing : <em>{{print}}</em></th>
              <td class="Hover" style="cursor:pointer; border-radius:6px; font-size:30px">Done Printing</th>
            </tr>
          </tbody>
        </table>
        <!--</table>
      </div>
      <div class="clear"></div>-->
        </div>
      </div>

      <div class="clear"></div>
      {% endfor %}


      {% if currentLen %}
      <div id="attention">
      <table class="Data">
          <tbody>
            <tr>
              <td style="border-radius:6px; font-size:25px" colspan="2">ATTENTION! Please clear the prints that aren't currently printing.</th>
            </tr>
          </tbody>
        </table>
       </div>
      {% endif %}
      {% endif %}

      <div class="grid_12 header">
        {% if inQueue %}
        <table class="Data">
          <thead>
            <tr>
              <th colspan="4">Pending Prints</th>
            </tr>
          </thead>

          <tbody>
            <tr class="Subheading">
              <td>#</td>
              <td>Print Name</td>
              <td>Download</td>
              <td>Action</td>
            </tr>

            {% for Job in inQueue %}
            <tr>
              <td class="Hover" onclick="location.href='/printData/{{Job.job_id}}'" style="cursor:pointer;">{{Job.job_id}}</td>
              <td class="Hover">{{Job.job_title}}</td>
              <td class="Hover"style="cursor:pointer;">Download</td>
              <td class="Hover"style="cursor:pointer;">Start Printing</td>
            </tr>
            {% endfor %}

          </tbody>
        </table>
        {% else %}
        <h1 class="top heading">No pending prints for {{name}}</h1>
        {% endif %}
      </div>
      <div class="clear"></div>

  </div>
  {% endblock %}
